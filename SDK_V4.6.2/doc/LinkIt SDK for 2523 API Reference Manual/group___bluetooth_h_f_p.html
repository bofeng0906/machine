<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MT2523 API Reference: HFP</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="MediaTek.PNG"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MT2523 API Reference
   &#160;<span id="projectnumber">LinkIt SDK v4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___bluetooth_h_f_p.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">HFP<div class="ingroups"><a class="el" href="group___bluetooth.html">Bluetooth</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The Hands-Free Profile (HFP) defines the minimum set of functions such that a mobile phone can be used in conjunction with a Hands-Free device, with a Bluetooth link providing a wireless means for both remote control of the mobile phone by the Hands-Free device and voice connection between the mobile phone and the Hands-Free device.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>The Hands-Free Profile (HFP) defines the minimum set of functions such that a mobile phone can be used in conjunction with a Hands-Free device, with a Bluetooth link providing a wireless means for both remote control of the mobile phone by the Hands-Free device and voice connection between the mobile phone and the Hands-Free device. </p>
<p>The following roles are defined for this profile. Audio Gateway (AG). A device that acts as a gateway of the audio, both for input and output. Typical devices acting as AGs are cellular phones. Hands-Free unit (HF). A device that acts as the AG's remote audio input and output. It also provides remote control means.</p><ul>
<li>Supported profile version. 1.6</li>
<li>Supported role. Hands-free unit.</li>
<li>Supported features:<ul>
<li>Call waiting and 3-way calling.</li>
<li>CLI presentation capability.</li>
<li>Voice recognition activation.</li>
<li>Remote volume control.</li>
<li>Enhanced call status.</li>
<li>Enhanced call control.</li>
<li>Codec negotiation.</li>
</ul>
</li>
</ul>
<h1>Terms and Acronyms </h1>
<table class="doxtable">
<tr>
<th>Terms </th><th>Details  </th></tr>
<tr>
<td><b>BATTCHG</b> </td><td>Battery Charge indicator of AG to provide the battery level. </td></tr>
<tr>
<td><b>BRSF</b> </td><td>Bluetooth Retrieve Supported Features. </td></tr>
<tr>
<td><b>SYNC</b> </td><td>Synchronization. </td></tr>
<tr>
<td><b>MIC</b> </td><td>Microphone. </td></tr>
<tr>
<td><b>DTMF</b> </td><td>Dual Tone Multi-Frequency, is an in-band telecommunication signaling system using the voice-frequency band over telephone lines. For more information, please refer to <a href="https://en.wikipedia.org/wiki/Dual-tone_multi-frequency_signaling">Dual tone multi-frequency signaling</a> in Wikipedia. </td></tr>
<tr>
<td><b>AG</b> </td><td>Audio Gateway, the remote device. </td></tr>
<tr>
<td><b>NREC</b> </td><td>Noise Reduction and Echo Canceling, the feature to disable or enable in AG. </td></tr>
<tr>
<td><b>WBS</b> </td><td>Wide Band Speech. </td></tr>
<tr>
<td><b>CLI</b> </td><td>Calling Line Identification, the feature to disable or enable in AG. </td></tr>
<tr>
<td><b>DIR</b> </td><td>Director, the call's director, an attribute of a call. </td></tr>
<tr>
<td><b>HFP</b> </td><td>Hands-Free Profile. For more information, please refer to <a href="https://en.wikipedia.org/wiki/List_of_Bluetooth_profiles#Hands-Free_Profile_.28HFP.29">Hands-free profile</a> in Wikipedia. </td></tr>
<tr>
<td><b>CVSD</b> </td><td>Continuously Variable Slope Delta modulation, a codec of audio. For more information, please refer to <a href="https://en.wikipedia.org/wiki/Continuously_variable_slope_delta_modulation">Continuously variable slope delta modulation</a> in Wikipedia. </td></tr>
<tr>
<td><b>MSBC</b> </td><td>Modified Sub Band Codec, a codec of audio. </td></tr>
<tr>
<td><b>CHLD</b> </td><td>Call Hold, the 3-way call action in AG. </td></tr>
<tr>
<td><b>ISDN</b> </td><td>Integrated Services Digital Network. For more information, please refer to <a href="https://en.wikipedia.org/wiki/Integrated_Services_Digital_Network">Integrated services digital network</a> in Wikipedia. </td></tr>
<tr>
<td><b>FAX</b> </td><td>Facsimile. </td></tr>
<tr>
<td><b>SLC</b> </td><td>Service Level Connection, the HFP connection with status negotiation. </td></tr>
</table>
<h1><a class="anchor" id="bt_hfp_api_usage"></a>
How to use this module</h1>
<p>This section presents the HFP connection handle and the method to send the command to dial a number.</p><ul>
<li>1. Mandatory, implement <a class="el" href="group___bluetooth_common_s_y_s___p_o_w_e_r.html#ga63bf3a74436b08ebce5947787487ad4f" title="This function is a static callback for the application to listen to the event. ">bt_app_event_callback()</a> to handle the HFP events, such as connect, disconnect, indication and more.<ul>
<li>Sample code: <div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="group___bluetooth_common_s_y_s___p_o_w_e_r.html#ga63bf3a74436b08ebce5947787487ad4f">bt_app_event_callback</a>(<a class="code" href="group___bluetoothbt__primary__type__define.html#ga70daf1e6084c7eb55e190505b8f14643">bt_msg_type_t</a> mgs, <a class="code" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> status, <span class="keywordtype">void</span> *buff)</div><div class="line">{</div><div class="line">    <span class="keywordflow">switch</span> (event_id)</div><div class="line">    {</div><div class="line">       <span class="keywordflow">case</span> <a class="code" href="group___bluetoothbt__hfp__define.html#ga6d3b702b074d2fa44012689ba1a87988">BT_HFP_CONNECT_REQUEST_IND</a>:</div><div class="line">       {</div><div class="line">           <a class="code" href="structbt__hfp__connect__request__ind__t.html">bt_hfp_connect_request_ind_t</a> *re_ind =</div><div class="line">               (<a class="code" href="structbt__hfp__connect__request__ind__t.html">bt_hfp_connect_request_ind_t</a> *)buff;</div><div class="line">           <a class="code" href="group___bluetooth_h_f_p.html#gaa250cd1b131ba22d3ca97ba86e00de22">bt_hfp_connect_response</a>(re_ind-&gt;<a class="code" href="structbt__hfp__connect__request__ind__t.html#aa8bec03983fc2371ab6afa98ae6ddd45">handle</a>,<span class="keyword">true</span>);</div><div class="line">           <span class="keywordflow">break</span>;</div><div class="line">       }</div><div class="line">       <span class="keywordflow">default</span>:</div><div class="line">       {</div><div class="line">           <span class="keywordflow">break</span>;</div><div class="line">       }</div><div class="line">     }</div><div class="line"> }</div></div><!-- fragment --></li>
</ul>
</li>
<li>2. Mandatory, implement the initialization callback <a class="el" href="group___bluetooth_h_f_p.html#gabe76d3d9d1aff649afde225f4a284541" title="This function gets the initialization settings. ">bt_hfp_get_init_params()</a>.<ul>
<li>Sample code: <div class="fragment"><div class="line"><a class="code" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> <a class="code" href="group___bluetooth_h_f_p.html#gabe76d3d9d1aff649afde225f4a284541">bt_hfp_get_init_params</a>(<a class="code" href="structbt__hfp__init__param__t.html">bt_hfp_init_param_t</a> *init_params)</div><div class="line">{</div><div class="line">    init_params-&gt;<a class="code" href="structbt__hfp__init__param__t.html#adf1844edc6ee97a91226edb47df344d0">supported_codecs</a> = <a class="code" href="group___bluetoothbt__hfp__define.html#ga0976364836be0766c9e68cbe7ba51949">BT_HFP_CODEC_TYPE_MSBC</a>;</div><div class="line"></div><div class="line">    init_params-&gt;<a class="code" href="structbt__hfp__init__param__t.html#a1a277b231b9e3e4ac80304b4214652d5">indicators</a>.<a class="code" href="structbt__hfp__indicator__t.html#a6b8bcdac6d6a6a47271afdfb6dacc4fd">battery</a> = <a class="code" href="group___bluetoothbt__hfp__define.html#ga283eb15f5c8f6ce1ffecbdd22f661bc7">BT_HFP_INDICATOR_ON</a>;</div><div class="line">    init_params-&gt;<a class="code" href="structbt__hfp__init__param__t.html#a1a277b231b9e3e4ac80304b4214652d5">indicators</a>.<a class="code" href="structbt__hfp__indicator__t.html#a09ef0640b4f370e31c32f010310b1a44">roaming</a> = <a class="code" href="group___bluetoothbt__hfp__define.html#ga283eb15f5c8f6ce1ffecbdd22f661bc7">BT_HFP_INDICATOR_ON</a>;</div><div class="line">    init_params-&gt;<a class="code" href="structbt__hfp__init__param__t.html#a1a277b231b9e3e4ac80304b4214652d5">indicators</a>.<a class="code" href="structbt__hfp__indicator__t.html#a08bf50e428e04745a45f279ed221932f">signal</a> = <a class="code" href="group___bluetoothbt__hfp__define.html#ga283eb15f5c8f6ce1ffecbdd22f661bc7">BT_HFP_INDICATOR_ON</a>;</div><div class="line">    init_params-&gt;<a class="code" href="structbt__hfp__init__param__t.html#a1a277b231b9e3e4ac80304b4214652d5">indicators</a>.<a class="code" href="structbt__hfp__indicator__t.html#ad140cc58300fad9bf00b7222b365ffb6">service</a> = <a class="code" href="group___bluetoothbt__hfp__define.html#ga283eb15f5c8f6ce1ffecbdd22f661bc7">BT_HFP_INDICATOR_ON</a>;</div><div class="line"></div><div class="line">    init_params-&gt;<a class="code" href="structbt__hfp__init__param__t.html#a7a56fdb0916013987666f50b08b06aae">support_features</a> = <a class="code" href="group___bluetoothbt__hfp__define.html#ga08b9db08a78b11e61a3afee72058cf1c">BT_HFP_INIT_SUPPORT_ALL</a>;</div><div class="line"></div><div class="line">    init_params-&gt;<a class="code" href="structbt__hfp__init__param__t.html#a1ddfb7d72cfae1d3085098b706b33fb5">disable_nrec</a> = <span class="keyword">true</span>;</div><div class="line">    init_params-&gt;<a class="code" href="structbt__hfp__init__param__t.html#a7ec3f344d596319a95a81e8e19236191">enable_call_waiting</a> = <span class="keyword">true</span>;</div><div class="line">    init_params-&gt;<a class="code" href="structbt__hfp__init__param__t.html#a9cf2c034264e88e9461489e45355cd38">enable_cli</a> = <span class="keyword">true</span>;</div><div class="line">    <span class="keywordflow">return</span> <a class="code" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6">BT_STATUS_SUCCESS</a>;</div><div class="line">}</div></div><!-- fragment --></li>
</ul>
</li>
<li>3. Mandatory, connect to the remote device, as shown in figure titled as "HFP connection establishment message sequence" in the Bluetooth developer's guide under the [sdk_root]/doc folder.<ul>
<li>Sample code: Connect to a remote device by passing the remote address and get the connection handle. The event <a class="el" href="group___bluetoothbt__hfp__define.html#gad06ac59254d39053d9efed3b3273ca1b" title="The SLC Connecting Indication event is triggered while the SLC is connecting with the bt_hfp_slc_conn...">BT_HFP_SLC_CONNECTING_IND</a> captured by <a class="el" href="group___bluetooth_common_s_y_s___p_o_w_e_r.html#ga63bf3a74436b08ebce5947787487ad4f" title="This function is a static callback for the application to listen to the event. ">bt_app_event_callback()</a> indicates the RFCOMM is connected and SLC is to be created. The event <a class="el" href="group___bluetoothbt__hfp__define.html#ga98494683295dcd7bf9843b9aae47dd47" title="The SLC Connected Indication event is triggered once the SLC is connected with the bt_hfp_slc_connect...">BT_HFP_SLC_CONNECTED_IND</a> captured by <a class="el" href="group___bluetooth_common_s_y_s___p_o_w_e_r.html#ga63bf3a74436b08ebce5947787487ad4f" title="This function is a static callback for the application to listen to the event. ">bt_app_event_callback()</a> indicates the SLC is connected. <div class="fragment"><div class="line">ret = <a class="code" href="group___bluetooth_h_f_p.html#ga705af3eea3334e71cc2af090ea9bc24c">bt_hfp_connect</a>(&amp;handle, &amp;addr);</div></div><!-- fragment --></li>
</ul>
</li>
<li>4. Optional, after receiving the event <a class="el" href="group___bluetoothbt__hfp__define.html#ga98494683295dcd7bf9843b9aae47dd47" title="The SLC Connected Indication event is triggered once the SLC is connected with the bt_hfp_slc_connect...">BT_HFP_SLC_CONNECTED_IND</a>, call the API <a class="el" href="group___bluetooth_h_f_p.html#ga3a810a98149695c9cc74cc2d62adfd87" title="This function sends an HFP command to the AG. ">bt_hfp_send_command()</a> to send a command to dial a number, such as 'ATDXXXX', 'ATD&gt;XXX', 'AT+BLDN', as shown in figure titled as "Initiate an outgoing voice call message sequence" in the Bluetooth developer's guide under the [sdk_root]/doc folder.<ul>
<li>Sample code: <div class="fragment"><div class="line">uint8_t hfp_cmd[7] = <span class="stringliteral">&quot;ATD114&quot;</span>;</div><div class="line">ret = <a class="code" href="group___bluetooth_h_f_p.html#ga3a810a98149695c9cc74cc2d62adfd87">bt_hfp_send_command</a>(handle, hfp_cmd, strlen(hfp_cmd));</div></div><!-- fragment --></li>
</ul>
</li>
<li>5. Mandatory, activate the audio link after the <a class="el" href="group___bluetoothbt__hfp__define.html#ga24a5301ff2bc8b1d9d56dc264373819a" title="The HFP Audio Connected Indication is triggered when the audio connection is connected with the bt_hf...">BT_HFP_AUDIO_CONNECT_IND</a> event is received. The application needs to activate the audio link status, as shown in figure titled as "HFP connection release message sequence" in the Bluetooth developer's guide under the [sdk_root]/doc folder.<ul>
<li>Sample code: The event <a class="el" href="group___bluetoothbt__hfp__define.html#gae5f0bfbd987e4901134c0939f2abdc1b" title="The HFP audio connection status change indication event to indicate the audio connection status has c...">BT_HFP_AUDIO_STATUS_CHANGE_IND</a> captured by <a class="el" href="group___bluetooth_common_s_y_s___p_o_w_e_r.html#ga63bf3a74436b08ebce5947787487ad4f" title="This function is a static callback for the application to listen to the event. ">bt_app_event_callback()</a> indicates the audio link status has changed. <div class="fragment"><div class="line">ret = <a class="code" href="group___bluetooth_h_f_p.html#ga208d2066cd6c4f1fb95c6925f2ff2ee9">bt_hfp_set_audio_status</a>(handle, <a class="code" href="group___bluetoothbt__hfp__define.html#gafc1b786b07c4c3dd43cff04ff2407390">BT_HFP_AUDIO_STATUS_ACTIVE</a>);</div></div><!-- fragment --></li>
</ul>
</li>
<li>6. Mandatory, disconnect the remote device, as shown in figure titled as "HFP connection release message sequence" in the Bluetooth developer's guide under the [sdk_root]/doc folder.<ul>
<li>Sample code: Disconnect the remote device by passing the connection handle. The event <a class="el" href="group___bluetoothbt__hfp__define.html#ga2b213cb229d4402dbb21a7280e3fa8f3" title="The HFP Disconnected Indication is triggered when RFCOMM link is disconnected with the bt_hfp_disconn...">BT_HFP_DISCONNECT_IND</a> captured by <a class="el" href="group___bluetooth_common_s_y_s___p_o_w_e_r.html#ga63bf3a74436b08ebce5947787487ad4f" title="This function is a static callback for the application to listen to the event. ">bt_app_event_callback()</a> indicates the RFCOMM channel has disconnected. <div class="fragment"><div class="line">ret = <a class="code" href="group___bluetooth_h_f_p.html#ga6a391071e6a55a443693cad13fee264d">bt_hfp_disconnect</a>(handle);</div></div><!-- fragment --> </li>
</ul>
</li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga705af3eea3334e71cc2af090ea9bc24c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_h_f_p.html#ga705af3eea3334e71cc2af090ea9bc24c">bt_hfp_connect</a> (uint32_t *handle, <a class="el" href="group___bluetoothbt__primary__type__define.html#gaf4054e1ff6f411ab8da99307809c4fde">bt_bd_addr_t</a> *address)</td></tr>
<tr class="memdesc:ga705af3eea3334e71cc2af090ea9bc24c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sends a HFP connect request to the AG.  <a href="#ga705af3eea3334e71cc2af090ea9bc24c">More...</a><br /></td></tr>
<tr class="separator:ga705af3eea3334e71cc2af090ea9bc24c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa250cd1b131ba22d3ca97ba86e00de22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_h_f_p.html#gaa250cd1b131ba22d3ca97ba86e00de22">bt_hfp_connect_response</a> (uint32_t handle, bool accept)</td></tr>
<tr class="memdesc:gaa250cd1b131ba22d3ca97ba86e00de22"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function responds to a connection request from AG.  <a href="#gaa250cd1b131ba22d3ca97ba86e00de22">More...</a><br /></td></tr>
<tr class="separator:gaa250cd1b131ba22d3ca97ba86e00de22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a391071e6a55a443693cad13fee264d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_h_f_p.html#ga6a391071e6a55a443693cad13fee264d">bt_hfp_disconnect</a> (uint32_t handle)</td></tr>
<tr class="memdesc:ga6a391071e6a55a443693cad13fee264d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sends a HFP disconnect request to AG.  <a href="#ga6a391071e6a55a443693cad13fee264d">More...</a><br /></td></tr>
<tr class="separator:ga6a391071e6a55a443693cad13fee264d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad5e12131ad747fb905a81dea24597f13"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_h_f_p.html#gad5e12131ad747fb905a81dea24597f13">bt_hfp_audio_transfer</a> (uint32_t handle, <a class="el" href="group___bluetoothbt__hfp__define.html#gadcd81dbf65549b94e8610d1bec0edfff">bt_hfp_audio_direction_t</a> audio_dir)</td></tr>
<tr class="memdesc:gad5e12131ad747fb905a81dea24597f13"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function transfers the audio direction to AG or to HF.  <a href="#gad5e12131ad747fb905a81dea24597f13">More...</a><br /></td></tr>
<tr class="separator:gad5e12131ad747fb905a81dea24597f13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga208d2066cd6c4f1fb95c6925f2ff2ee9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_h_f_p.html#ga208d2066cd6c4f1fb95c6925f2ff2ee9">bt_hfp_set_audio_status</a> (uint32_t handle, <a class="el" href="group___bluetoothbt__hfp__define.html#gab21bf6b69dacad2c95c36a18be2fbf24">bt_hfp_audio_status_t</a> status)</td></tr>
<tr class="memdesc:ga208d2066cd6c4f1fb95c6925f2ff2ee9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the current audio connection status.  <a href="#ga208d2066cd6c4f1fb95c6925f2ff2ee9">More...</a><br /></td></tr>
<tr class="separator:ga208d2066cd6c4f1fb95c6925f2ff2ee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a810a98149695c9cc74cc2d62adfd87"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_h_f_p.html#ga3a810a98149695c9cc74cc2d62adfd87">bt_hfp_send_command</a> (uint32_t handle, uint8_t *command, uint16_t command_length)</td></tr>
<tr class="memdesc:ga3a810a98149695c9cc74cc2d62adfd87"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sends an HFP command to the AG.  <a href="#ga3a810a98149695c9cc74cc2d62adfd87">More...</a><br /></td></tr>
<tr class="separator:ga3a810a98149695c9cc74cc2d62adfd87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab794d02c683ea3d36fc892c876ba4538"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#gaf4054e1ff6f411ab8da99307809c4fde">bt_bd_addr_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_h_f_p.html#gab794d02c683ea3d36fc892c876ba4538">bt_hfp_get_bd_addr_by_handle</a> (uint32_t handle)</td></tr>
<tr class="memdesc:gab794d02c683ea3d36fc892c876ba4538"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function gets the remote device's Bluetooth address of current connection.  <a href="#gab794d02c683ea3d36fc892c876ba4538">More...</a><br /></td></tr>
<tr class="separator:gab794d02c683ea3d36fc892c876ba4538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe76d3d9d1aff649afde225f4a284541"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_h_f_p.html#gabe76d3d9d1aff649afde225f4a284541">bt_hfp_get_init_params</a> (<a class="el" href="structbt__hfp__init__param__t.html">bt_hfp_init_param_t</a> *init_params)</td></tr>
<tr class="memdesc:gabe76d3d9d1aff649afde225f4a284541"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function gets the initialization settings.  <a href="#gabe76d3d9d1aff649afde225f4a284541">More...</a><br /></td></tr>
<tr class="separator:gabe76d3d9d1aff649afde225f4a284541"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group___bluetoothbt__hfp__define"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetoothbt__hfp__define.html">Define</a></td></tr>
<tr class="memdesc:group___bluetoothbt__hfp__define"><td class="mdescLeft">&#160;</td><td class="mdescRight">This section defines the HFP events and error codes. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group___bluetoothbt__hfp__struct"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetoothbt__hfp__struct.html">Struct</a></td></tr>
<tr class="memdesc:group___bluetoothbt__hfp__struct"><td class="mdescLeft">&#160;</td><td class="mdescRight">This section defines data structures for the HFP. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gad5e12131ad747fb905a81dea24597f13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_hfp_audio_transfer </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___bluetoothbt__hfp__define.html#gadcd81dbf65549b94e8610d1bec0edfff">bt_hfp_audio_direction_t</a>&#160;</td>
          <td class="paramname"><em>audio_dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function transfers the audio direction to AG or to HF. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the handle of the current connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">audio_dir</td><td>is the switch direction, either to AG or HF, please refer to <a class="el" href="group___bluetoothbt__hfp__define.html#gadcd81dbf65549b94e8610d1bec0edfff">bt_hfp_audio_direction_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the operation has failed. </dd></dl>

</div>
</div>
<a class="anchor" id="ga705af3eea3334e71cc2af090ea9bc24c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_hfp_connect </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___bluetoothbt__primary__type__define.html#gaf4054e1ff6f411ab8da99307809c4fde">bt_bd_addr_t</a> *&#160;</td>
          <td class="paramname"><em>address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sends a HFP connect request to the AG. </p>
<p>The event <a class="el" href="group___bluetoothbt__hfp__define.html#gad06ac59254d39053d9efed3b3273ca1b" title="The SLC Connecting Indication event is triggered while the SLC is connecting with the bt_hfp_slc_conn...">BT_HFP_SLC_CONNECTING_IND</a> returns when the SLC is connecting. The event <a class="el" href="group___bluetoothbt__hfp__define.html#ga98494683295dcd7bf9843b9aae47dd47" title="The SLC Connected Indication event is triggered once the SLC is connected with the bt_hfp_slc_connect...">BT_HFP_SLC_CONNECTED_IND</a> returns when HFP negotiation is complete. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">handle</td><td>is the channel handle returned. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>is the Bluetooth address of the AG. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the operation has failed. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga08b0a13b4015d06f3f061efac3d51696" title="General Out-of-memory. ">BT_STATUS_OUT_OF_MEMORY</a>, out of memory. </dd></dl>

</div>
</div>
<a class="anchor" id="gaa250cd1b131ba22d3ca97ba86e00de22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_hfp_connect_response </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>accept</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function responds to a connection request from AG. </p>
<p>Calll this API to accept or reject the connection, when <a class="el" href="group___bluetoothbt__hfp__define.html#ga6d3b702b074d2fa44012689ba1a87988" title="The HFP Connect Request Indication event is triggered when AG attempts to connect with HF with the bt...">BT_HFP_CONNECT_REQUEST_IND</a> is received. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the handle of the current connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accept</td><td>is the operation of accepting or rejecting the current connection request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the operation has failed. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6a391071e6a55a443693cad13fee264d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_hfp_disconnect </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sends a HFP disconnect request to AG. </p>
<p>The event <a class="el" href="group___bluetoothbt__hfp__define.html#ga2b213cb229d4402dbb21a7280e3fa8f3" title="The HFP Disconnected Indication is triggered when RFCOMM link is disconnected with the bt_hfp_disconn...">BT_HFP_DISCONNECT_IND</a> returns the current request’s result. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the handle of the current connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the operation has failed. </dd></dl>

</div>
</div>
<a class="anchor" id="gab794d02c683ea3d36fc892c876ba4538"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#gaf4054e1ff6f411ab8da99307809c4fde">bt_bd_addr_t</a>* bt_hfp_get_bd_addr_by_handle </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function gets the remote device's Bluetooth address of current connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the handle of the current connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The Bluetooth address. </dd></dl>

</div>
</div>
<a class="anchor" id="gabe76d3d9d1aff649afde225f4a284541"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_hfp_get_init_params </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbt__hfp__init__param__t.html">bt_hfp_init_param_t</a> *&#160;</td>
          <td class="paramname"><em>init_params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function gets the initialization settings. </p>
<p>This API invoked by the SDP process should be implemented by the application. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">init_params</td><td>is the settings to initialize. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully, otherwise it failed. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3a810a98149695c9cc74cc2d62adfd87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_hfp_send_command </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>command_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sends an HFP command to the AG. </p>
<p>The event <a class="el" href="group___bluetoothbt__hfp__define.html#gaea65e2ceeae820e415765fb9d7478164" title="The HFP Action Command Confirmation is triggered when the AG responds to the command request with the...">BT_HFP_ACTION_CMD_CNF</a> returns when the remote device responds. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the handle of the current connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">command</td><td>is the command to send. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">command_length</td><td>is the command's length. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the operation has failed. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga08b0a13b4015d06f3f061efac3d51696" title="General Out-of-memory. ">BT_STATUS_OUT_OF_MEMORY</a>, out of memory. </dd></dl>

</div>
</div>
<a class="anchor" id="ga208d2066cd6c4f1fb95c6925f2ff2ee9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_hfp_set_audio_status </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___bluetoothbt__hfp__define.html#gab21bf6b69dacad2c95c36a18be2fbf24">bt_hfp_audio_status_t</a>&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the current audio connection status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the handle of the current connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>is the audio status to set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the operation has failed. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Dec 21 2017 10:18:54 for MT2523 API Reference by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
