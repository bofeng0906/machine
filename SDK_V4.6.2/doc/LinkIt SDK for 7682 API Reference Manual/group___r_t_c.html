<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MT7682 API Reference: RTC</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="MediaTek.PNG"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MT7682 API Reference
   &#160;<span id="projectnumber">LinkIt SDK v4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___r_t_c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">RTC<div class="ingroups"><a class="el" href="group___h_a_l.html">HAL</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This section introduces the Real-Time Clock (RTC) APIs including terms and acronyms, supported features, software architecture, details on how to use this driver, enums, structures and functions.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>This section introduces the Real-Time Clock (RTC) APIs including terms and acronyms, supported features, software architecture, details on how to use this driver, enums, structures and functions. </p>
<p>The software architecture of the RTC driver is shown in the diagram below.</p>
<h1><a class="anchor" id="HAL_RTC_Terms_Chapter"></a>
Terms and acronyms</h1>
<table class="doxtable">
<tr>
<th>Terms </th><th>Details  </th></tr>
<tr>
<td><b>RTC</b> </td><td>Real-Time Clock. A real-time clock (RTC) is a computer clock, mostly in the form of an integrated circuit, that keeps track of the current time. For more information, please refer to <a href="https://en.wikipedia.org/wiki/Real-time_clock">an introduction to the RTC in Wikipedia </a>. </td></tr>
</table>
<h1><a class="anchor" id="HAL_RTC_Features_Chapter"></a>
Supported features</h1>
<ul>
<li><b>Support</b> <b>date</b> <b>and</b> <b>time</b> <b>information</b>. <br />
 Call <a class="el" href="group___r_t_c.html#gabea6ccc6c508fb50b4d09385d8317f0a" title="This function sets the RTC current time. ">hal_rtc_set_time()</a> to set the RTC current time and <a class="el" href="group___r_t_c.html#gace87a6c2d2eb402c62d8000bac047aa3" title="This function gets the RTC current time. ">hal_rtc_get_time()</a> to retrieve the RTC current time. Call <a class="el" href="group___r_t_c.html#gaf85c64388ddaadb1e6a781109ceb22c3" title="This function sets the RTC time notification callback, and the callback execution period is set by ha...">hal_rtc_set_time_callback()</a> to register a callback to receive RTC current time change notification. This notification will be triggered in precise RTC time unit configured(like every second, every minute, or every hour etc.). Call <a class="el" href="group___r_t_c.html#ga54819bae0870b577dbc990888f9aff02" title="This function sets the RTC current time change notification period. ">hal_rtc_set_time_notification_period()</a> to set the desired notification period. Then your callback function will be periodically executed according to the period you set.</li>
<li><b>Support</b> <b>fine</b> <b>tuning</b> <b>of</b> <b>the</b> <b>RTC</b> <b>timer</b>. <br />
 Call #hal_rtc_set_repeat_calibration() to adjust the RTC time counting speed, if you have a highly accurate reference clock, or if you find out the RTC time is faster or slower. #hal_rtc_set_one_shot_calibration() can be used to fine tune the current RTC time.</li>
<li><b>Support</b> <b>alarm</b> <b>notification</b>. <br />
 Call <a class="el" href="group___r_t_c.html#ga03f2701c6ed0465e26679104324154ca" title="This function sets the RTC alarm time. ">hal_rtc_set_alarm()</a> to set the RTC alarm time and <a class="el" href="group___r_t_c.html#gace6a254872489f1f21d059e122f9186f" title="This function gets the RTC alarm time. ">hal_rtc_get_alarm()</a> to get the RTC alarm time. To receive alarm notification, please call <a class="el" href="group___r_t_c.html#ga972e00a277a58ef9ce746bc81abd48e1" title="This function sets the alarm callback. ">hal_rtc_set_alarm_callback()</a> to register a callback function and call <a class="el" href="group___r_t_c.html#gab89c095818c4da54cf0c5fa7b8a3974a" title="This function enables an alarm. ">hal_rtc_enable_alarm()</a> to enable the RTC alarm notification. When the RTC current time reaches the RTC alarm time, the callback function you registered will be executed. The alarm notification can be disabled by using <a class="el" href="group___r_t_c.html#gac7f0bad799ed0c86a35b2b29d8d038fb" title="This function disables an alarm. ">hal_rtc_disable_alarm()</a> function, if it's no longer required.</li>
<li><b>Support</b> <b>store</b> <b>data</b> <b>during</b> <b>power</b> <b>off</b>. <br />
 There are several spare registers in the RTC to store data that are not cleared during a power off, except when the battery is removed.</li>
</ul>
<h1><a class="anchor" id="HAL_RTC_Architechture_Chapter"></a>
Software architecture of RTC</h1>
<ul>
<li>The user needs to call <a class="el" href="group___r_t_c.html#ga1a5b2a5c0f82556edf574569f6e1fdfe" title="This function initializes the RTC module. ">hal_rtc_init()</a> to initialize the RTC hardware before using the RTC service. The user can set and get the current time or RTC alarm time at any time. RTC supports two notifications, the RTC current time change notification and the alarm notification. The user can use <a class="el" href="group___r_t_c.html#gaf85c64388ddaadb1e6a781109ceb22c3" title="This function sets the RTC time notification callback, and the callback execution period is set by ha...">hal_rtc_set_time_callback()</a> and <a class="el" href="group___r_t_c.html#ga972e00a277a58ef9ce746bc81abd48e1" title="This function sets the alarm callback. ">hal_rtc_set_alarm_callback()</a> respectively, to register callbacks for these two RTC notifications. <div class="image">
<img src="hal_rtc_archi.png" alt="hal_rtc_archi.png"/>
</div>
</li>
</ul>
<h1><a class="anchor" id="HAL_RTC_Driver_Usage_Chapter"></a>
How to use this driver</h1>
<ul>
<li>Set the RTC current time. <br />
<ul>
<li>Step 1. Call <a class="el" href="group___r_t_c.html#ga1a5b2a5c0f82556edf574569f6e1fdfe" title="This function initializes the RTC module. ">hal_rtc_init()</a> to initialize the RTC hardware, if it hasn't been called after the power went on.</li>
<li>Step 2. Call <a class="el" href="group___r_t_c.html#gabea6ccc6c508fb50b4d09385d8317f0a" title="This function sets the RTC current time. ">hal_rtc_set_time()</a> to set the RTC current time.</li>
<li>sample code: Note: the base year of RTC should be 2000, there will be leap year problem if a value other than 2000 is used. <div class="fragment"><div class="line"><span class="preprocessor">#define BASE_YEAR 2000</span></div><div class="line">set_current_time(uint16_t year, uint8_t mon, uint8_t day, uint8_t hour, uint8_t min, uint8_t sec) {</div><div class="line">    <a class="code" href="structhal__rtc__time__t.html">hal_rtc_time_t</a> time;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14">HAL_RTC_STATUS_OK</a> != <a class="code" href="group___r_t_c.html#ga1a5b2a5c0f82556edf574569f6e1fdfe">hal_rtc_init</a>()) {</div><div class="line">        <span class="comment">// Error handler</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// The user has to define the base year and the RTC year is defined</span></div><div class="line">    <span class="comment">// as an offset. For example, define the base year as 2000 and assign 15 to the RTC year to represent the year of 2015.</span></div><div class="line">    time.<a class="code" href="group___h_a_l.html#ga559bdf4009e85d8bb94bc327eca2d7de">rtc_year</a> = year - BASE_YEAR;</div><div class="line">    time.<a class="code" href="group___h_a_l.html#ga2c4f626a3efe2c90f139c29409967319">rtc_mon</a> = mon;</div><div class="line">    time.<a class="code" href="group___h_a_l.html#ga7af8f5a9a067e2dccf5b62f4ba3d8418">rtc_day</a> = day;</div><div class="line">    time.<a class="code" href="group___h_a_l.html#ga479605d8d4dbf85ec3be446f001dc3f1">rtc_hour</a> = hour;</div><div class="line">    time.<a class="code" href="group___h_a_l.html#ga699e3ddacd5cfebe869b293bbe2c7d1b">rtc_min</a> = min;</div><div class="line">    time.<a class="code" href="group___h_a_l.html#gab5f1ce9fc76408d8c64b4d185aa05f83">rtc_sec</a> = sec;</div><div class="line"></div><div class="line">    <span class="comment">// Set the RTC current time.</span></div><div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14">HAL_RTC_STATUS_OK</a> != <a class="code" href="group___r_t_c.html#gabea6ccc6c508fb50b4d09385d8317f0a">hal_rtc_set_time</a>(&amp;time)) {</div><div class="line">        <span class="comment">// error handle</span></div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --></li>
</ul>
</li>
<li>Get the RTC current time. <br />
<ul>
<li>Step 1. Call <a class="el" href="group___r_t_c.html#ga1a5b2a5c0f82556edf574569f6e1fdfe" title="This function initializes the RTC module. ">hal_rtc_init()</a> to initialize the RTC hardware if it has not been called after the power went on.</li>
<li>Step 2. Call <a class="el" href="group___r_t_c.html#gace87a6c2d2eb402c62d8000bac047aa3" title="This function gets the RTC current time. ">hal_rtc_get_time()</a> to get RTC current time.</li>
<li>sample code: <div class="fragment"><div class="line"><span class="preprocessor">#define BASE_YEAR 2000</span></div><div class="line">get_current_time(uint8_t *year, uint8_t *mon, uint8_t *day, uint8_t *hour, uint8_t *min, uint8_t *sec) {</div><div class="line">    <a class="code" href="structhal__rtc__time__t.html">hal_rtc_time_t</a> time;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14">HAL_RTC_STATUS_OK</a> != <a class="code" href="group___r_t_c.html#ga1a5b2a5c0f82556edf574569f6e1fdfe">hal_rtc_init</a>()) {</div><div class="line">        <span class="comment">// Error handler</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14">HAL_RTC_STATUS_OK</a> != <a class="code" href="group___r_t_c.html#gace87a6c2d2eb402c62d8000bac047aa3">hal_rtc_get_time</a>(&amp;time)) {</div><div class="line">        <span class="comment">// Error handler</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// The user has to define the base year and the RTC year is defined</span></div><div class="line">    <span class="comment">// as an offset. For example, define the base year as 2000 and assign 15 to the RTC year to represent the year of 2015.</span></div><div class="line">    *year = time.<a class="code" href="group___h_a_l.html#ga559bdf4009e85d8bb94bc327eca2d7de">rtc_year</a> + BASE_YEAR;</div><div class="line">    *mon = time.<a class="code" href="group___h_a_l.html#ga2c4f626a3efe2c90f139c29409967319">rtc_mon</a>;</div><div class="line">    *day = time.<a class="code" href="group___h_a_l.html#ga7af8f5a9a067e2dccf5b62f4ba3d8418">rtc_day</a>;</div><div class="line">    *hour = time.<a class="code" href="group___h_a_l.html#ga479605d8d4dbf85ec3be446f001dc3f1">rtc_hour</a>;</div><div class="line">    *min = time.<a class="code" href="group___h_a_l.html#ga699e3ddacd5cfebe869b293bbe2c7d1b">rtc_min</a>;</div><div class="line">    *sec = time.<a class="code" href="group___h_a_l.html#gab5f1ce9fc76408d8c64b4d185aa05f83">rtc_sec</a>;</div><div class="line">}</div></div><!-- fragment --></li>
</ul>
</li>
<li>Register a user callback function to handle the RTC current time change. <br />
<ul>
<li>Step 1. Call <a class="el" href="group___r_t_c.html#ga1a5b2a5c0f82556edf574569f6e1fdfe" title="This function initializes the RTC module. ">hal_rtc_init()</a> to initialize the RTC hardware if it has not been called after the power went on.</li>
<li>Step 2. Call <a class="el" href="group___r_t_c.html#gaf85c64388ddaadb1e6a781109ceb22c3" title="This function sets the RTC time notification callback, and the callback execution period is set by ha...">hal_rtc_set_time_callback()</a> to register a user callback function to handle the RTC current time change, then when a specific RTC current time change occurs, the callback function is executed in an interrupt service routine.</li>
<li>Step 3. Call <a class="el" href="group___r_t_c.html#ga54819bae0870b577dbc990888f9aff02" title="This function sets the RTC current time change notification period. ">hal_rtc_set_time_notification_period()</a> to set a specific RTC current time change notification period.</li>
<li>sample code: <div class="fragment"><div class="line">uint32_t g_user_data;</div><div class="line"></div><div class="line">set_time_notification_period(<a class="code" href="group__hal__rtc__enum.html#ga937edb89f1f6e28a7ad7c732e2d74a04">hal_rtc_time_notification_period_t</a> period) {</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14">HAL_RTC_STATUS_OK</a> != <a class="code" href="group___r_t_c.html#ga1a5b2a5c0f82556edf574569f6e1fdfe">hal_rtc_init</a>()) {</div><div class="line">        <span class="comment">// Error handler</span></div><div class="line">    }</div><div class="line">    <span class="comment">// Register a user callback function to handle the RTC current time change.</span></div><div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14">HAL_RTC_STATUS_OK</a> != <a class="code" href="group___r_t_c.html#gaf85c64388ddaadb1e6a781109ceb22c3">hal_rtc_set_time_callback</a>(time_change_cb, &amp;g_user_data)) {</div><div class="line">        <span class="comment">// Error handler</span></div><div class="line">    }</div><div class="line">    <span class="comment">// Set a specific RTC current time change notification period.</span></div><div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14">HAL_RTC_STATUS_OK</a> != <a class="code" href="group___r_t_c.html#ga54819bae0870b577dbc990888f9aff02">hal_rtc_set_time_notification_period</a>(period)) {</div><div class="line">        <span class="comment">// Error handler</span></div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> <div class="fragment"><div class="line"><span class="keywordtype">void</span> time_change_cb(<span class="keywordtype">void</span> *user_data)</div><div class="line">{</div><div class="line">    <span class="comment">// In this case, *user_data is g_user_data.</span></div><div class="line">    <span class="comment">// Apply the RTC functionality, for example, get the RTC current time and update it on the user interface.</span></div><div class="line">    <span class="comment">// Please note, that this callback runs in an interrupt service routine.</span></div><div class="line">}</div></div><!-- fragment --></li>
</ul>
</li>
<li>Set the RTC alarm time. <br />
<ul>
<li>Step 1. Call <a class="el" href="group___r_t_c.html#ga1a5b2a5c0f82556edf574569f6e1fdfe" title="This function initializes the RTC module. ">hal_rtc_init()</a> to initialize the RTC hardware if it has not been called after the power went on.</li>
<li>Step 2. Call <a class="el" href="group___r_t_c.html#gabea6ccc6c508fb50b4d09385d8317f0a" title="This function sets the RTC current time. ">hal_rtc_set_time()</a> to set the RTC alarm time.</li>
<li>sample code: <div class="fragment"><div class="line"><span class="preprocessor">#define BASE_YEAR 2000</span></div><div class="line">set_alarm_time(uint16_t year, uint8_t mon, uint8_t day, uint8_t hour, uint8_t min, uint8_t sec) {</div><div class="line">    <a class="code" href="structhal__rtc__time__t.html">hal_rtc_time_t</a> alarm;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14">HAL_RTC_STATUS_OK</a> != <a class="code" href="group___r_t_c.html#ga1a5b2a5c0f82556edf574569f6e1fdfe">hal_rtc_init</a>()) {</div><div class="line">        <span class="comment">// Error handler</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// The user has to define the base year and the RTC year is defined</span></div><div class="line">    <span class="comment">// as an offset. For example, define the base year as 2000 and assign 15 to the RTC year to represent the year of 2015.</span></div><div class="line">    alarm.<a class="code" href="group___h_a_l.html#ga559bdf4009e85d8bb94bc327eca2d7de">rtc_year</a> = year - BASE_YEAR;</div><div class="line">    alarm.<a class="code" href="group___h_a_l.html#ga2c4f626a3efe2c90f139c29409967319">rtc_mon</a> = mon;</div><div class="line">    alarm.<a class="code" href="group___h_a_l.html#ga7af8f5a9a067e2dccf5b62f4ba3d8418">rtc_day</a> = day;</div><div class="line">    alarm.<a class="code" href="group___h_a_l.html#ga479605d8d4dbf85ec3be446f001dc3f1">rtc_hour</a> = hour;</div><div class="line">    alarm.<a class="code" href="group___h_a_l.html#ga699e3ddacd5cfebe869b293bbe2c7d1b">rtc_min</a> = min;</div><div class="line">    alarm.<a class="code" href="group___h_a_l.html#gab5f1ce9fc76408d8c64b4d185aa05f83">rtc_sec</a> = sec;</div><div class="line"></div><div class="line">    <span class="comment">// Set the RTC alarm time.</span></div><div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14">HAL_RTC_STATUS_OK</a> != <a class="code" href="group___r_t_c.html#ga03f2701c6ed0465e26679104324154ca">hal_rtc_set_alarm</a>(&amp;alarm)) {</div><div class="line">        <span class="comment">// Error handler</span></div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --></li>
</ul>
</li>
<li>Get the RTC alarm time. <br />
<ul>
<li>Step 1. Call <a class="el" href="group___r_t_c.html#ga1a5b2a5c0f82556edf574569f6e1fdfe" title="This function initializes the RTC module. ">hal_rtc_init()</a> to initialize the RTC hardware if it has not been called after the power went on.</li>
<li>Step 2. Call <a class="el" href="group___r_t_c.html#gace6a254872489f1f21d059e122f9186f" title="This function gets the RTC alarm time. ">hal_rtc_get_alarm()</a> to get the RTC alarm time.</li>
<li>sample code: <div class="fragment"><div class="line">get_alarm_time(uint8_t *year, uint8_t *mon, uint8_t *day, uint8_t *hour, uint8_t *min, uint8_t *sec) {</div><div class="line">    <a class="code" href="structhal__rtc__time__t.html">hal_rtc_time_t</a> alarm;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14">HAL_RTC_STATUS_OK</a> != <a class="code" href="group___r_t_c.html#ga1a5b2a5c0f82556edf574569f6e1fdfe">hal_rtc_init</a>()) {</div><div class="line">        <span class="comment">// Error handler</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14">HAL_RTC_STATUS_OK</a> != <a class="code" href="group___r_t_c.html#gace87a6c2d2eb402c62d8000bac047aa3">hal_rtc_get_time</a>(&amp;alarm)) {</div><div class="line">        <span class="comment">// Error handler</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// The user has to define the base year and the RTC year is defined</span></div><div class="line">    <span class="comment">// as an offset. For example, define the base year as 2000 and assign 15 to the RTC year to represent the year of 2015.</span></div><div class="line">    *year = time.<a class="code" href="group___h_a_l.html#ga559bdf4009e85d8bb94bc327eca2d7de">rtc_year</a> + BASE_YEAR;</div><div class="line">    *mon = alarm.<a class="code" href="group___h_a_l.html#ga2c4f626a3efe2c90f139c29409967319">rtc_mon</a>;</div><div class="line">    *day = alarm.<a class="code" href="group___h_a_l.html#ga7af8f5a9a067e2dccf5b62f4ba3d8418">rtc_day</a>;</div><div class="line">    *hour = alarm.<a class="code" href="group___h_a_l.html#ga479605d8d4dbf85ec3be446f001dc3f1">rtc_hour</a>;</div><div class="line">    *min = alarm.<a class="code" href="group___h_a_l.html#ga699e3ddacd5cfebe869b293bbe2c7d1b">rtc_min</a>;</div><div class="line">    *sec = alarm.<a class="code" href="group___h_a_l.html#gab5f1ce9fc76408d8c64b4d185aa05f83">rtc_sec</a>;</div><div class="line">}</div></div><!-- fragment --></li>
</ul>
</li>
<li>Register a user callback function to handle the RTC alarm. <br />
<ul>
<li>Step 1. Call <a class="el" href="group___r_t_c.html#ga1a5b2a5c0f82556edf574569f6e1fdfe" title="This function initializes the RTC module. ">hal_rtc_init()</a> to initialize the RTC hardware if it has not been called after the power went on.</li>
<li>Step 2. Call <a class="el" href="group___r_t_c.html#ga972e00a277a58ef9ce746bc81abd48e1" title="This function sets the alarm callback. ">hal_rtc_set_alarm_callback()</a> to register a user callback function to handle the RTC alarm.</li>
<li>Step 3. Call <a class="el" href="group___r_t_c.html#gab89c095818c4da54cf0c5fa7b8a3974a" title="This function enables an alarm. ">hal_rtc_enable_alarm()</a> to enable an alarm notification. A callback function is triggered in an interrupt service routine if an alarm notification is received.</li>
<li>sample code: <div class="fragment"><div class="line">uint32_t g_user_data;</div><div class="line"></div><div class="line">set_alarm_handle_cb(<a class="code" href="group__hal__rtc__enum.html#ga937edb89f1f6e28a7ad7c732e2d74a04">hal_rtc_time_notification_period_t</a> period) {</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14">HAL_RTC_STATUS_OK</a> != <a class="code" href="group___r_t_c.html#ga1a5b2a5c0f82556edf574569f6e1fdfe">hal_rtc_init</a>()) {</div><div class="line">        <span class="comment">// Error handler</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Register a callback function to handle the RTC alarm.</span></div><div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14">HAL_RTC_STATUS_OK</a> != <a class="code" href="group___r_t_c.html#ga972e00a277a58ef9ce746bc81abd48e1">hal_rtc_set_alarm_callback</a>(alarm_handle_cb, &amp;g_user_data)) {</div><div class="line">        <span class="comment">// Error handler</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Enable an alarm notification.</span></div><div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14">HAL_RTC_STATUS_OK</a> != <a class="code" href="group___r_t_c.html#gab89c095818c4da54cf0c5fa7b8a3974a">hal_rtc_enable_alarm</a>()) {</div><div class="line">        <span class="comment">// Error handler</span></div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> <div class="fragment"><div class="line"><span class="keywordtype">void</span> alarm_handle_cb(<span class="keywordtype">void</span> *user_data)</div><div class="line">{</div><div class="line">    <span class="comment">// In this case, *user_data is g_user_data.</span></div><div class="line">    <span class="comment">// Apply the RTC functionality, for example, get the RTC current time and update it on the user interface.</span></div><div class="line">    <span class="comment">// Please note, that this callback runs in an interrupt service routine.</span></div><div class="line">}</div></div><!-- fragment --> </li>
</ul>
</li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1a5b2a5c0f82556edf574569f6e1fdfe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c.html#ga1a5b2a5c0f82556edf574569f6e1fdfe">hal_rtc_init</a> (void)</td></tr>
<tr class="memdesc:ga1a5b2a5c0f82556edf574569f6e1fdfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the RTC module.  <a href="#ga1a5b2a5c0f82556edf574569f6e1fdfe">More...</a><br /></td></tr>
<tr class="separator:ga1a5b2a5c0f82556edf574569f6e1fdfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafaf86c53e95f3bbb2d3d2bb8a0172b27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c.html#gafaf86c53e95f3bbb2d3d2bb8a0172b27">hal_rtc_deinit</a> (void)</td></tr>
<tr class="memdesc:gafaf86c53e95f3bbb2d3d2bb8a0172b27"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function deinitializes the RTC module.  <a href="#gafaf86c53e95f3bbb2d3d2bb8a0172b27">More...</a><br /></td></tr>
<tr class="separator:gafaf86c53e95f3bbb2d3d2bb8a0172b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabea6ccc6c508fb50b4d09385d8317f0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c.html#gabea6ccc6c508fb50b4d09385d8317f0a">hal_rtc_set_time</a> (const <a class="el" href="structhal__rtc__time__t.html">hal_rtc_time_t</a> *time)</td></tr>
<tr class="memdesc:gabea6ccc6c508fb50b4d09385d8317f0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the RTC current time.  <a href="#gabea6ccc6c508fb50b4d09385d8317f0a">More...</a><br /></td></tr>
<tr class="separator:gabea6ccc6c508fb50b4d09385d8317f0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace87a6c2d2eb402c62d8000bac047aa3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c.html#gace87a6c2d2eb402c62d8000bac047aa3">hal_rtc_get_time</a> (<a class="el" href="structhal__rtc__time__t.html">hal_rtc_time_t</a> *time)</td></tr>
<tr class="memdesc:gace87a6c2d2eb402c62d8000bac047aa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function gets the RTC current time.  <a href="#gace87a6c2d2eb402c62d8000bac047aa3">More...</a><br /></td></tr>
<tr class="separator:gace87a6c2d2eb402c62d8000bac047aa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga54819bae0870b577dbc990888f9aff02"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c.html#ga54819bae0870b577dbc990888f9aff02">hal_rtc_set_time_notification_period</a> (<a class="el" href="group__hal__rtc__enum.html#ga937edb89f1f6e28a7ad7c732e2d74a04">hal_rtc_time_notification_period_t</a> period)</td></tr>
<tr class="memdesc:ga54819bae0870b577dbc990888f9aff02"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the RTC current time change notification period.  <a href="#ga54819bae0870b577dbc990888f9aff02">More...</a><br /></td></tr>
<tr class="separator:ga54819bae0870b577dbc990888f9aff02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03f2701c6ed0465e26679104324154ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c.html#ga03f2701c6ed0465e26679104324154ca">hal_rtc_set_alarm</a> (const <a class="el" href="structhal__rtc__time__t.html">hal_rtc_time_t</a> *time)</td></tr>
<tr class="memdesc:ga03f2701c6ed0465e26679104324154ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the RTC alarm time.  <a href="#ga03f2701c6ed0465e26679104324154ca">More...</a><br /></td></tr>
<tr class="separator:ga03f2701c6ed0465e26679104324154ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace6a254872489f1f21d059e122f9186f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c.html#gace6a254872489f1f21d059e122f9186f">hal_rtc_get_alarm</a> (<a class="el" href="structhal__rtc__time__t.html">hal_rtc_time_t</a> *time)</td></tr>
<tr class="memdesc:gace6a254872489f1f21d059e122f9186f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function gets the RTC alarm time.  <a href="#gace6a254872489f1f21d059e122f9186f">More...</a><br /></td></tr>
<tr class="separator:gace6a254872489f1f21d059e122f9186f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab89c095818c4da54cf0c5fa7b8a3974a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c.html#gab89c095818c4da54cf0c5fa7b8a3974a">hal_rtc_enable_alarm</a> (void)</td></tr>
<tr class="memdesc:gab89c095818c4da54cf0c5fa7b8a3974a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function enables an alarm.  <a href="#gab89c095818c4da54cf0c5fa7b8a3974a">More...</a><br /></td></tr>
<tr class="separator:gab89c095818c4da54cf0c5fa7b8a3974a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7f0bad799ed0c86a35b2b29d8d038fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c.html#gac7f0bad799ed0c86a35b2b29d8d038fb">hal_rtc_disable_alarm</a> (void)</td></tr>
<tr class="memdesc:gac7f0bad799ed0c86a35b2b29d8d038fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function disables an alarm.  <a href="#gac7f0bad799ed0c86a35b2b29d8d038fb">More...</a><br /></td></tr>
<tr class="separator:gac7f0bad799ed0c86a35b2b29d8d038fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf85c64388ddaadb1e6a781109ceb22c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c.html#gaf85c64388ddaadb1e6a781109ceb22c3">hal_rtc_set_time_callback</a> (<a class="el" href="group__hal__rtc__typedef.html#gaa9cea99808da6055f75b700fb3f1f2e9">hal_rtc_time_callback_t</a> callback_function, void *user_data)</td></tr>
<tr class="memdesc:gaf85c64388ddaadb1e6a781109ceb22c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the RTC time notification callback, and the callback execution period is set by <a class="el" href="group___r_t_c.html#ga54819bae0870b577dbc990888f9aff02" title="This function sets the RTC current time change notification period. ">hal_rtc_set_time_notification_period()</a>.  <a href="#gaf85c64388ddaadb1e6a781109ceb22c3">More...</a><br /></td></tr>
<tr class="separator:gaf85c64388ddaadb1e6a781109ceb22c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga972e00a277a58ef9ce746bc81abd48e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c.html#ga972e00a277a58ef9ce746bc81abd48e1">hal_rtc_set_alarm_callback</a> (const <a class="el" href="group__hal__rtc__typedef.html#gab554938a6c9c4d1a02642476cacc7dbb">hal_rtc_alarm_callback_t</a> callback_function, void *user_data)</td></tr>
<tr class="memdesc:ga972e00a277a58ef9ce746bc81abd48e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the alarm callback.  <a href="#ga972e00a277a58ef9ce746bc81abd48e1">More...</a><br /></td></tr>
<tr class="separator:ga972e00a277a58ef9ce746bc81abd48e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab416af380b036623e841979fdc4b4fe6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c.html#gab416af380b036623e841979fdc4b4fe6">hal_rtc_set_data</a> (uint16_t offset, const char *buf, uint16_t len)</td></tr>
<tr class="memdesc:gab416af380b036623e841979fdc4b4fe6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function stores data to the RTC registers that won't be cleared even if the system power is off, except when the battery is removed.  <a href="#gab416af380b036623e841979fdc4b4fe6">More...</a><br /></td></tr>
<tr class="separator:gab416af380b036623e841979fdc4b4fe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga79e5b84e38bb00bb0a56505cf96187fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c.html#ga79e5b84e38bb00bb0a56505cf96187fa">hal_rtc_get_data</a> (uint16_t offset, char *buf, uint16_t len)</td></tr>
<tr class="memdesc:ga79e5b84e38bb00bb0a56505cf96187fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reads data from the RTC registers that won't be cleared even if the system power is off, except when the battery is removed.  <a href="#ga79e5b84e38bb00bb0a56505cf96187fa">More...</a><br /></td></tr>
<tr class="separator:ga79e5b84e38bb00bb0a56505cf96187fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3317937be1062c4103107f5527c21ecb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c.html#ga3317937be1062c4103107f5527c21ecb">hal_rtc_clear_data</a> (uint16_t offset, uint16_t len)</td></tr>
<tr class="memdesc:ga3317937be1062c4103107f5527c21ecb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function stores zero to the RTC registers that won't be cleared even if the system power is off, except when the battery is removed.  <a href="#ga3317937be1062c4103107f5527c21ecb">More...</a><br /></td></tr>
<tr class="separator:ga3317937be1062c4103107f5527c21ecb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7823981e3b7a149f56a8b71ece3d9b13"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c.html#ga7823981e3b7a149f56a8b71ece3d9b13">hal_rtc_get_f32k_frequency</a> (uint32_t *frequency)</td></tr>
<tr class="memdesc:ga7823981e3b7a149f56a8b71ece3d9b13"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function gets the frequency value of 32.768kHz clock source, unit is in Hz.  <a href="#ga7823981e3b7a149f56a8b71ece3d9b13">More...</a><br /></td></tr>
<tr class="separator:ga7823981e3b7a149f56a8b71ece3d9b13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c54edb5a2e0d8496f1654ae0c517d48"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c.html#ga7c54edb5a2e0d8496f1654ae0c517d48">hal_rtc_retention_sram_config</a> (uint32_t mask, <a class="el" href="group__hal__rtc__enum.html#ga73bbadee108d406ebcecdc198512571c">hal_rtc_sram_mode_t</a> mode)</td></tr>
<tr class="memdesc:ga7c54edb5a2e0d8496f1654ae0c517d48"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function configures the memory cells in power down, sleep or normal mode.  <a href="#ga7c54edb5a2e0d8496f1654ae0c517d48">More...</a><br /></td></tr>
<tr class="separator:ga7c54edb5a2e0d8496f1654ae0c517d48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6418f11e5293e0a6c146fb8f35e51551"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c.html#ga6418f11e5293e0a6c146fb8f35e51551">hal_rtc_enter_retention_mode</a> (void)</td></tr>
<tr class="memdesc:ga6418f11e5293e0a6c146fb8f35e51551"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the chip into retention mode.  <a href="#ga6418f11e5293e0a6c146fb8f35e51551">More...</a><br /></td></tr>
<tr class="separator:ga6418f11e5293e0a6c146fb8f35e51551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab787920b48b1c069da15641803612af9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gab787920b48b1c069da15641803612af9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_c.html#gab787920b48b1c069da15641803612af9">hal_rtc_exit_retention_mode</a> (void)</td></tr>
<tr class="memdesc:gab787920b48b1c069da15641803612af9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function clears the RTC retention flag, resets RTC retention SRAM configuration, and switches 32kHz clock source from EOSC to DCXO when internal 32k mode is used after exiting from the retention mode. <br /></td></tr>
<tr class="separator:gab787920b48b1c069da15641803612af9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__hal__rtc__define"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__rtc__define.html">Define</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__hal__rtc__enum"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__rtc__enum.html">Enum</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__hal__rtc__struct"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__rtc__struct.html">Struct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__hal__rtc__typedef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__rtc__typedef.html">Typedef</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga3317937be1062c4103107f5527c21ecb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a> hal_rtc_clear_data </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function stores zero to the RTC registers that won't be cleared even if the system power is off, except when the battery is removed. </p>
<p>Note, the size of the backup date is <a class="el" href="group__hal__rtc__define.html#ga61b2da726446abf88f7b02c7a669b778" title="This macro defines a maximum number for backup data that used in hal_rtc_set_data(), hal_rtc_get_data(), hal_rtc_clear_data functions. ">HAL_RTC_BACKUP_BYTE_NUM_MAX</a> bytes. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>is the position of RTC spare registers to store data. The unit is in bytes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>is the datalength read from the RTC spare registers. The unit is in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea293cd3da13da519b0e88b7354f912d08" title="An error occurred. ">HAL_RTC_STATUS_ERROR</a> means the RTC hardware isn't ready for use. <a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14" title="The operation completed successfully. ">HAL_RTC_STATUS_OK</a>, the operation completed successfully. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___r_t_c.html#gab416af380b036623e841979fdc4b4fe6" title="This function stores data to the RTC registers that won&#39;t be cleared even if the system power is off...">hal_rtc_set_data()</a>, <a class="el" href="group___r_t_c.html#ga79e5b84e38bb00bb0a56505cf96187fa" title="This function reads data from the RTC registers that won&#39;t be cleared even if the system power is off...">hal_rtc_get_data()</a>. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// Set the RTC spare registers (bytes 2 to 4) with zeros.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;if(HAL_RTC_STATUS_OK != hal_rtc_clear_data(2, 3)) {</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    // Error handler</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="gafaf86c53e95f3bbb2d3d2bb8a0172b27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a> hal_rtc_deinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function deinitializes the RTC module. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14" title="The operation completed successfully. ">HAL_RTC_STATUS_OK</a>, the operation completed successfully. </dd></dl>

</div>
</div>
<a class="anchor" id="gac7f0bad799ed0c86a35b2b29d8d038fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a> hal_rtc_disable_alarm </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function disables an alarm. </p>
<p>Call this function if the alarm notification is no longer required. </p><dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14" title="The operation completed successfully. ">HAL_RTC_STATUS_OK</a>, the operation completed successfully. </dd></dl>

</div>
</div>
<a class="anchor" id="gab89c095818c4da54cf0c5fa7b8a3974a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a> hal_rtc_enable_alarm </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function enables an alarm. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14" title="The operation completed successfully. ">HAL_RTC_STATUS_OK</a>, the operation completed successfully. </dd></dl>
<dl class="section user"><dt>Example</dt><dd>Please refer to "Register a user callback function for handling alarm" in <a class="el" href="group___r_t_c.html#HAL_RTC_Driver_Usage_Chapter">How to use this driver</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6418f11e5293e0a6c146fb8f35e51551"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a> hal_rtc_enter_retention_mode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the chip into retention mode. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea293cd3da13da519b0e88b7354f912d08" title="An error occurred. ">HAL_RTC_STATUS_ERROR</a>, entering retention mode has failed as a wake up event occurred. <a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14" title="The operation completed successfully. ">HAL_RTC_STATUS_OK</a>, the operation completed successfully. </dd></dl>

</div>
</div>
<a class="anchor" id="gace6a254872489f1f21d059e122f9186f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a> hal_rtc_get_alarm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhal__rtc__time__t.html">hal_rtc_time_t</a> *&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function gets the RTC alarm time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">time</td><td>is a pointer to the <a class="el" href="structhal__rtc__time__t.html" title="RTC time structure definition. ">hal_rtc_time_t</a> structure to store the date and time settings received from the RTC alarm time. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14" title="The operation completed successfully. ">HAL_RTC_STATUS_OK</a>, the operation completed successfully. </dd></dl>
<dl class="section user"><dt>Example</dt><dd>Please refer to "Get RTC alarm time" in <a class="el" href="group___r_t_c.html#HAL_RTC_Driver_Usage_Chapter">How to use this driver</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ga79e5b84e38bb00bb0a56505cf96187fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a> hal_rtc_get_data </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function reads data from the RTC registers that won't be cleared even if the system power is off, except when the battery is removed. </p>
<p>Note, the size of the backup data is <a class="el" href="group__hal__rtc__define.html#ga61b2da726446abf88f7b02c7a669b778" title="This macro defines a maximum number for backup data that used in hal_rtc_set_data(), hal_rtc_get_data(), hal_rtc_clear_data functions. ">HAL_RTC_BACKUP_BYTE_NUM_MAX</a> bytes. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>is the position of RTC spare registers to store data. The unit is in bytes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>is the address of buffer to store the data received from the RTC spare registers. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>is the datalength read from the RTC spare registers. The unit is in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea293cd3da13da519b0e88b7354f912d08" title="An error occurred. ">HAL_RTC_STATUS_ERROR</a> means the RTC hardware isn't ready for use. <a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14" title="The operation completed successfully. ">HAL_RTC_STATUS_OK</a>, the operation completed successfully. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___r_t_c.html#gab416af380b036623e841979fdc4b4fe6" title="This function stores data to the RTC registers that won&#39;t be cleared even if the system power is off...">hal_rtc_set_data()</a>, <a class="el" href="group___r_t_c.html#ga3317937be1062c4103107f5527c21ecb" title="This function stores zero to the RTC registers that won&#39;t be cleared even if the system power is off...">hal_rtc_clear_data()</a>. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// Read 3 bytes from the RTC spare registers byte 2~4 and store the 3 bytes data to buf</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;if(HAL_RTC_STATUS_OK != hal_rtc_get_data(2, buf, 3)) {</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    // Error handler</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga7823981e3b7a149f56a8b71ece3d9b13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a> hal_rtc_get_f32k_frequency </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>frequency</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function gets the frequency value of 32.768kHz clock source, unit is in Hz. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">frequency</td><td>is a pointer to store the frequency. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14" title="The operation completed successfully. ">HAL_RTC_STATUS_OK</a>, the operation completed successfully. </dd></dl>

</div>
</div>
<a class="anchor" id="gace87a6c2d2eb402c62d8000bac047aa3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a> hal_rtc_get_time </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhal__rtc__time__t.html">hal_rtc_time_t</a> *&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function gets the RTC current time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">time</td><td>is a pointer to the <a class="el" href="structhal__rtc__time__t.html" title="RTC time structure definition. ">hal_rtc_time_t</a> structure to store the date and time settings received from the RTC current time. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14" title="The operation completed successfully. ">HAL_RTC_STATUS_OK</a>, the operation completed successfully. </dd></dl>
<dl class="section user"><dt>Example</dt><dd>Please refer to "Get RTC current time" in <a class="el" href="group___r_t_c.html#HAL_RTC_Driver_Usage_Chapter">How to use this driver</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ga1a5b2a5c0f82556edf574569f6e1fdfe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a> hal_rtc_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function initializes the RTC module. </p>
<p>This function must be called once the power is on and before using the RTC service. </p><dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14" title="The operation completed successfully. ">HAL_RTC_STATUS_OK</a>, the operation completed successfully. </dd></dl>

</div>
</div>
<a class="anchor" id="ga7c54edb5a2e0d8496f1654ae0c517d48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a> hal_rtc_retention_sram_config </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__hal__rtc__enum.html#ga73bbadee108d406ebcecdc198512571c">hal_rtc_sram_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function configures the memory cells in power down, sleep or normal mode. </p>
<p>Note, that user cannot directly switch between power down and sleep modes. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mask</td><td>is the bitwise of any memory cell to be configured. The total memory cell number is <a class="el" href="group__hal__rtc__define.html#gad234e888843b094d2a7595ecfc6b8f44" title="This macro defines a maximum number for RTC retention sram cells. ">HAL_RTC_RETENTION_SRAM_NUMBER_MAX</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>is the operation mode of the memory cell to be configured. Details are described at <a class="el" href="group__hal__rtc__enum.html#ga73bbadee108d406ebcecdc198512571c" title="This enum defines the mode of rtc retention sram. ">hal_rtc_sram_mode_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea9be82e15fb6dcf89f42333edbbd12ae6" title="Invalid parameter is given. ">HAL_RTC_STATUS_INVALID_PARAM</a>, an invalid magic parameter is given. <a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14" title="The operation completed successfully. ">HAL_RTC_STATUS_OK</a>, the operation completed successfully. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// Set memory cell 0 and memory cell 2 as Normal mode.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;if(HAL_RTC_STATUS_OK != hal_rtc_retention_sram_config(0x5, HAL_RTC_SRAM_NORMAL_MODE)) {</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    // Error handler</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga03f2701c6ed0465e26679104324154ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a> hal_rtc_set_alarm </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structhal__rtc__time__t.html">hal_rtc_time_t</a> *&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the RTC alarm time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>is a pointer to the <a class="el" href="structhal__rtc__time__t.html" title="RTC time structure definition. ">hal_rtc_time_t</a> structure that contains the date and time settings to configure the RTC alarm time. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea9be82e15fb6dcf89f42333edbbd12ae6" title="Invalid parameter is given. ">HAL_RTC_STATUS_INVALID_PARAM</a>, an invalid alarm time parameter is given. <a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14" title="The operation completed successfully. ">HAL_RTC_STATUS_OK</a>, the operation completed successfully. </dd></dl>
<dl class="section user"><dt>Example</dt><dd>Please refer to "Set RTC current time" in <a class="el" href="group___r_t_c.html#HAL_RTC_Driver_Usage_Chapter">How to use this driver</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ga972e00a277a58ef9ce746bc81abd48e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a> hal_rtc_set_alarm_callback </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__hal__rtc__typedef.html#gab554938a6c9c4d1a02642476cacc7dbb">hal_rtc_alarm_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback_function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the alarm callback. </p>
<p>This callback is executed if the RTC current and alarm times are the same. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">callback_function</td><td>is the user-defined callback function. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_data</td><td>is a pointer to the data assigned to callback function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14" title="The operation completed successfully. ">HAL_RTC_STATUS_OK</a>, the operation completed successfully. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___r_t_c.html#ga03f2701c6ed0465e26679104324154ca" title="This function sets the RTC alarm time. ">hal_rtc_set_alarm()</a>, <a class="el" href="group___r_t_c.html#gace6a254872489f1f21d059e122f9186f" title="This function gets the RTC alarm time. ">hal_rtc_get_alarm()</a>, <a class="el" href="group___r_t_c.html#gab89c095818c4da54cf0c5fa7b8a3974a" title="This function enables an alarm. ">hal_rtc_enable_alarm()</a> and <a class="el" href="group___r_t_c.html#gac7f0bad799ed0c86a35b2b29d8d038fb" title="This function disables an alarm. ">hal_rtc_disable_alarm()</a> </dd></dl>
<dl class="section user"><dt>Example</dt><dd>Please refer to "Register a user callback function for handling alarm" in <a class="el" href="group___r_t_c.html#HAL_RTC_Driver_Usage_Chapter">How to use this driver</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="gab416af380b036623e841979fdc4b4fe6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a> hal_rtc_set_data </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function stores data to the RTC registers that won't be cleared even if the system power is off, except when the battery is removed. </p>
<p>Note, the size of the backup date is <a class="el" href="group__hal__rtc__define.html#ga61b2da726446abf88f7b02c7a669b778" title="This macro defines a maximum number for backup data that used in hal_rtc_set_data(), hal_rtc_get_data(), hal_rtc_clear_data functions. ">HAL_RTC_BACKUP_BYTE_NUM_MAX</a> bytes. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>is the position of RTC spare registers to store data. The unit is in bytes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>is the address of buffer to store the data write to the RTC spare registers. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>is the datalength stored in the RTC spare registers. The unit is in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea293cd3da13da519b0e88b7354f912d08" title="An error occurred. ">HAL_RTC_STATUS_ERROR</a> means the RTC hardware isn't ready for use. <a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14" title="The operation completed successfully. ">HAL_RTC_STATUS_OK</a>, the operation completed successfully. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___r_t_c.html#ga79e5b84e38bb00bb0a56505cf96187fa" title="This function reads data from the RTC registers that won&#39;t be cleared even if the system power is off...">hal_rtc_get_data()</a>, <a class="el" href="group___r_t_c.html#ga3317937be1062c4103107f5527c21ecb" title="This function stores zero to the RTC registers that won&#39;t be cleared even if the system power is off...">hal_rtc_clear_data()</a>. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// Write 3 bytes from buf to RTC spare registers, bytes 2 to 4.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;if(HAL_RTC_STATUS_OK != hal_rtc_set_data(2, buf, 3)) {</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    // Error handler</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="gabea6ccc6c508fb50b4d09385d8317f0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a> hal_rtc_set_time </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structhal__rtc__time__t.html">hal_rtc_time_t</a> *&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the RTC current time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>is a pointer to the <a class="el" href="structhal__rtc__time__t.html" title="RTC time structure definition. ">hal_rtc_time_t</a> structure that contains the date and time settings for the RTC current time. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea9be82e15fb6dcf89f42333edbbd12ae6" title="Invalid parameter is given. ">HAL_RTC_STATUS_INVALID_PARAM</a>, an invalid time parameter is given. <a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14" title="The operation completed successfully. ">HAL_RTC_STATUS_OK</a>, the operation completed successfully. </dd></dl>
<dl class="section user"><dt>Example</dt><dd>Please refer to "Set RTC current time" in <a class="el" href="group___r_t_c.html#HAL_RTC_Driver_Usage_Chapter">How to use this driver</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf85c64388ddaadb1e6a781109ceb22c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a> hal_rtc_set_time_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__hal__rtc__typedef.html#gaa9cea99808da6055f75b700fb3f1f2e9">hal_rtc_time_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback_function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the RTC time notification callback, and the callback execution period is set by <a class="el" href="group___r_t_c.html#ga54819bae0870b577dbc990888f9aff02" title="This function sets the RTC current time change notification period. ">hal_rtc_set_time_notification_period()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">callback_function</td><td>is a user-defined callback function. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_data</td><td>is a pointer to the data assigned to callback function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14" title="The operation completed successfully. ">HAL_RTC_STATUS_OK</a>, the operation completed successfully. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___r_t_c.html#ga54819bae0870b577dbc990888f9aff02" title="This function sets the RTC current time change notification period. ">hal_rtc_set_time_notification_period()</a> </dd></dl>
<dl class="section user"><dt>Example</dt><dd>Please refer to "Set RTC current time" in <a class="el" href="group___r_t_c.html#HAL_RTC_Driver_Usage_Chapter">How to use this driver</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ga54819bae0870b577dbc990888f9aff02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__rtc__enum.html#gafd0d3ebedd556c274a30a8479de1631e">hal_rtc_status_t</a> hal_rtc_set_time_notification_period </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__hal__rtc__enum.html#ga937edb89f1f6e28a7ad7c732e2d74a04">hal_rtc_time_notification_period_t</a>&#160;</td>
          <td class="paramname"><em>period</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the RTC current time change notification period. </p>
<p>The time notification callback function is different from a common timer or alarm callback function. The common timer or alarm callback function is only called once at a specific time, but the time notification callback function is called anytime a specific time notification condition is met. For example, the callback function runs for each second, if <a class="el" href="group__hal__rtc__enum.html#gga937edb89f1f6e28a7ad7c732e2d74a04a70a1176290e66e1127dc6cf89f6639be" title="Execute a callback function set by hal_rtc_set_time_notification_period() for every second...">HAL_RTC_TIME_NOTIFICATION_EVERY_SECOND</a> is the parameter. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">period</td><td>is the expected time for the RTC current time change notification period. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea9be82e15fb6dcf89f42333edbbd12ae6" title="Invalid parameter is given. ">HAL_RTC_STATUS_INVALID_PARAM</a>, an invalid period parameter is given. <a class="el" href="group__hal__rtc__enum.html#ggafd0d3ebedd556c274a30a8479de1631ea1b9ae1055ef4652a1a7ddb261f98bb14" title="The operation completed successfully. ">HAL_RTC_STATUS_OK</a>, the operation completed successfully. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___r_t_c.html#gaf85c64388ddaadb1e6a781109ceb22c3" title="This function sets the RTC time notification callback, and the callback execution period is set by ha...">hal_rtc_set_time_callback()</a> </dd></dl>
<dl class="section user"><dt>Example</dt><dd>Please refer to "Register a user callback function for handling RTC current time change" in <a class="el" href="group___r_t_c.html#HAL_RTC_Driver_Usage_Chapter">How to use this driver</a>. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Dec 21 2017 10:19:02 for MT7682 API Reference by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
