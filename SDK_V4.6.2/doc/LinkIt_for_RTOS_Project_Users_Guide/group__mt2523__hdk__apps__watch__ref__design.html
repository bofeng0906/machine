<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Example projects and demos: watch_ref_design</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="MediaTek.PNG"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Example projects and demos
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Project&#160;user's&#160;guide</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__mt2523__hdk__apps__watch__ref__design.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">watch_ref_design<div class="ingroups"><a class="el" href="group__mt2523__hdk.html">mt2523_hdk</a> &raquo; <a class="el" href="group__mt2523__hdk__apps.html">apps</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<dl class="section user"><dt>Overview</dt><dd><ul>
<li>Application description<ul>
<li>This application demonstrates how to create a graphical user interface (GUI) on an embedded system with limited resources using TouchGFX framework written in C++.</li>
</ul>
</li>
<li>Application features<ul>
<li>Three clocks, including two analog clocks and one digital clock.</li>
<li>Heart Rate. Provides heart rate using MediaTek MT2511 biosensor daughterboard.</li>
<li>Settings. Enables to configure the clock, date/time, GNSS, Bluetooth, Sensor heart rate and backlight (on or off).</li>
</ul>
</li>
<li>TouchGFX License<ul>
<li>Please refer to <a href="http://touchgfx.com/en/services-pricing/licenses/">http://touchgfx.com/en/services-pricing/licenses/</a>.</li>
<li>Current project uses Roboto fonts that can be found at Source Sans Pro <a href="https://www.fontsquirrel.com/license/source-sans-pro">https://www.fontsquirrel.com/license/source-sans-pro</a>.</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Hardware and software environment</dt><dd><ul>
<li>Supported platform<ul>
<li>LinkIt 2523 HDK</li>
<li>LCM module driven by Sitronix ST7789H2 (or another driver IC that supports MediaTek 2-data lane interface).</li>
</ul>
</li>
<li>HDK switches and pin configuration<ul>
<li>LCD module's pin mapping is listed below. <table class="doxtable">
<tr>
<th>PIN Name </th><th>GPIOx </th><th>PINx  </th></tr>
<tr>
<td>LSRSTB </td><td>38 </td><td></td></tr>
<tr>
<td>LSCE0_B0 </td><td>39 </td><td></td></tr>
<tr>
<td>LSCK0 </td><td>40 </td><td></td></tr>
<tr>
<td>LSDA0 </td><td>41 </td><td></td></tr>
<tr>
<td>LSA0DA0 </td><td>42 </td><td></td></tr>
<tr>
<td>LPTE </td><td>43 </td><td></td></tr>
</table>
- Environment configuration</li>
<li>TouchGFX build flow is in two parts. First, generate resources including build image, text and font. Then compile the source code.</li>
<li>Linux Environment TouchGFX requires Ruby to generate resource files in Linux environment. Ruby is installed on most Linux distributions, by default. Follow these steps to determine if Ruby is installed and, if not, install the Ruby instructions at <a href="http://ruby.about.com/od/tutorials/ht/installrubylin.htm">http://ruby.about.com/od/tutorials/ht/installrubylin.htm</a>. Default version is ruby 1.9.3p484 (2013-11-22 revision 43786) In addition, download rubyzip from <a href="https://github.com/rubyzip/rubyzip">https://github.com/rubyzip/rubyzip</a>. Download roo from <a href="https://github.com/roo-rb/roo">https://github.com/roo-rb/roo</a>. Download nokogiri from <a href="http://www.nokogiri.org/tutorials/installing_nokogiri.html">http://www.nokogiri.org/tutorials/installing_nokogiri.html</a>. After download, please export Ruby environment such as: export RUBYLIB=/intall_path/nokogiri-master/:/intall_path/nokogiri- master/1.9.1/ x86_64-linux/:/intall_path/rubyzip- master/lib/:/intall_path/roo-master/lib/.</li>
<li>Windows Environment Download and install rubyinstaller.exe from <a href="https://www.ruby-lang.org/en/documentation/installation/#rubyinstaller">https://www.ruby-lang.org/en/documentation/installation/#rubyinstaller</a> (Default is 2.3.1 x64 version) Download and Unzip Rubygems from <a href="https://rubygems.org/pages/download">https://rubygems.org/pages/download</a> (Default is rubygems-2.6.8.zip) Enter windows console and cd install_path/rubygems-2.6.8 Execute ruby setup.rb install Open MinGW console Install roo package using command: gem install roo Install rubyzip package command: gem install rubyzip Install nokogiri package command: gem install nokogiri</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Directory contents</dt><dd><ul>
<li>Source and header files<ul>
<li><b>inc:</b> Common header files.</li>
<li><b>src/sensor_demo</b>: Sensor algorithm demo source code.</li>
<li><b>src/touch_adapter</b>: Touch adapter for TouchGFX.</li>
<li><b>src/main.cpp</b>: Main program.</li>
<li><b>src/sys_init.c</b>: This file initializes the system, including system clock, UART port for logging, PinMux, cache and other necessary hardware.</li>
<li><b>src/ept_gpio_var.c</b>: The GPIO configuration file generated by the Easy Pinmux Tool (EPT).</li>
<li><b>src/ept_eint_var.c</b>: The EINT configuration file generated by the EPT.</li>
<li><b>src/system_mt2523.c</b>: The configuration file of the Cortex-M4 with floating point core registers and system clock.</li>
<li><b>src/task_def.c</b>: Task definition file.</li>
</ul>
</li>
<li>Project configuration files using GCC<ul>
<li><b>GCC/feature.mk</b>: Feature configuration file.</li>
<li><b>Makefile:</b> Makefile.</li>
<li><b>GCC/flash.ld</b>: Linker script.</li>
<li><b>GCC/sensor_demo.mk</b>: Sensor algorithm application makefile.</li>
<li><b>GCC/syscalls.c</b>: MT2523x syscalls for GCC.</li>
<li><b>GCC/startup_mt2523.s</b>: MT2523x startup file for GCC.</li>
</ul>
</li>
<li>Project configuration files using Keil IDE<ul>
<li><b>MDK-ARM/watch_demo.uvoptx</b>: uVision5 Project File. Contains the project structure in XML format.</li>
<li><b>MDK-ARM/watch_demo.uvprojx</b>: uVision5 project options. Contains the settings for the debugger, trace configuration, breakpoints, currently open files, etc.</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="section user"><dt>run the application</dt><dd><ul>
<li>How to build the watch_demo application<ul>
<li>GCC version<ul>
<li>make command "./build.sh mt2523_hdk watch_ref_design" under the SDK root folder.</li>
</ul>
</li>
<li>Keil IDE using version MDK515<ul>
<li>Open "watch_ref_design.uvprojx" under the MDK-ARM folder and build the Keil project.</li>
</ul>
</li>
</ul>
</li>
<li>How to download the watch_demo application<ul>
<li>Please install and use MT2523 flash tool (sdk_root/tools/PC_tool_Win.zip) to download watch_demo.bin to the LinkIt 2523 HDK.</li>
</ul>
</li>
<li>How to run each feature<ul>
<li>Power on LinkIt 2523 HDK and the clock will be displayed. Press power key to switch the screen to heart rate, GNSS, sports mode or settings screen. On Settings, press the power key to open the detailed settings. Press the power key again, to return to the previous display. </li>
</ul>
</li>
</ul>
</dd></dl>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Dec 21 2017 10:19:10 for Example projects and demos by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
