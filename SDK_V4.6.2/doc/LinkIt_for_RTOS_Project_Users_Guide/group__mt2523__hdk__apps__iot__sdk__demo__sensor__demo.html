<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Example projects and demos: sensor_demo</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="MediaTek.PNG"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Example projects and demos
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Project&#160;user's&#160;guide</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__mt2523__hdk__apps__iot__sdk__demo__sensor__demo.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">sensor_demo<div class="ingroups"><a class="el" href="group__mt2523__hdk.html">mt2523_hdk</a> &raquo; <a class="el" href="group__mt2523__hdk__apps.html">apps</a> &raquo; <a class="el" href="group__mt2523__hdk__apps__iot__sdk__demo.html">iot_sdk_demo</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<dl class="section user"><dt>Overview</dt><dd><ul>
<li>This project is a reference application on how to obtain heart rate (HR) and blood pressre (BP) data from MediaTek MT2511 biosensor daughterboard. The HR and BP data are displayed on the UI.</li>
<li>Enable the sensor<ul>
<li>Call the function #hal_pinmux_set_function() or use the EPT tool to set the GPIO pinmux to configure the I2C digital interface and external interrupt pinmux settings. Please refer to bsp_sensor_peripheral_init() in [sdk_root]/driver/board/mt25x3_hdk/mems_init/mems_init.c.</li>
<li>Call the fucntion #sensor_subscribe_sensor() to get the HR and BP data.</li>
<li>Sensor subsystem task (sensor_mgr_task() in [sdk_root]/middleware/MTK/sensor_subsys/src/sensor_manager.c) feeds accelerometer and biosensor data into fusion algorithm to get heart rate and blood pressure measurements.</li>
</ul>
</li>
<li>Results<ul>
<li>UI displays the HR and BP data. Please note that HR data update is paused while BP is being measured.</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Hardware and software environment</dt><dd><ul>
<li>Supported HDK<ul>
<li>LinkIt 2523 HDK.</li>
<li>MediaTek MT2511 biosensor daughterboard (model number: MTK0067).</li>
<li>Optical module sub-board (model number: WS3524).</li>
<li>An electrocardiography (EKG) cable.</li>
</ul>
</li>
<li>Environment configuration<ul>
<li>Connect MediaTek MT2511 biosensor daughterboard to the LinkIt 2523 HDK using the Sensor interface on the development board.</li>
<li>Connect an EKG cable to the daughterboard.</li>
<li>Connect an optical module sub-board to the daughterboard. The optical module sub-board uses the light-based technology to sense the rate of blood flow controlled by the heart's pumping action.</li>
</ul>
</li>
<li>Customization Option<ul>
<li><b>SENSOR_DEMO</b> determines whether the sensor features such as heart rate monitor and blood pressure monitor are contained in this project.</li>
<li><b>MTK_SENSOR_BIO_USE_MT2511</b> selects and enables the driver for MediaTek MT2511 biosensor. Please make sure MediaTek MT2511 biosensor daughterboard is connected to the LinkIt 2523 HDK.</li>
<li><b>FUSION_HEART_RATE_MONITOR_USE</b> enables MediaTek heart rate monitor fusion algorithm library under middleware/MTK/sensor_subsys/lib/fusion_algo folder.</li>
<li><b>FUSION_HEART_RATE_VARIABILITY_USE</b> enables MediaTek heart rate variability monitor fusion algorithm library under middleware/MTK/sensor_subsys/lib/fusion_algo folder. Please note that this definition and FUSION_BLOOD_PRESSURE_USE should be used exclusively.</li>
<li><b>FUSION_BLOOD_PRESSURE_USE</b> enables MediaTek blood pressure monitor fusion algorithm library under middleware/MTK/sensor_subsys/lib/fusion_algo folder. Please note that this definition and FUSION_HEART_RATE_VARIABILITY_USE should be used exclusively.</li>
<li><b>FUSION_PEDOMETER_USE</b> is for pedometer and not used in this project.</li>
<li><b>FUSION_SLEEP_TRACKER_USE</b> is for sleep tracker and not used in this project.</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Directory contents</dt><dd><ul>
<li>Source and header files<ul>
<li><b>src/sensor_demo/sensor_demo.c</b>: The source file of the sensor initialization functions.</li>
<li><b>src/sensor_demo/sensor_demo_screen.c</b>: The display configuration file of the sensor demo.</li>
<li><b>inc/sensor_demo/sensor_demo.h</b>: The header file of the sensor initialization functions.</li>
<li><b>&lt;sdk_root&gt;/driver/board/component/biosensor/mt2511</b>: The driver of MT2511 (MediaTek biosensing analog front-end chip).</li>
<li><b>&lt;sdk_root&gt;/driver/board/component/mems</b>: The motion sensor driver (including BMA255 driver).</li>
<li><b>&lt;sdk_root&gt;/middleware/MTK/sensor_subsys</b>: The sensor manager implementation to control drivers, and report data to application.</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Run the application</dt><dd><ul>
<li>Press "Sensor Subsystem" on the main display.</li>
<li>The EKG cable has three leads with electrode patch. Stick the green and black electrode patches to the left arm, stick the red electrode patch to the right arm.</li>
<li>Place your hand on the optical module sub-board.</li>
<li>Observe the HR and BP data change on the display.<ul>
<li>Sensor subsystem display will show the HR data changes.</li>
<li>Press "BP" on the sensor subsystem display.<ul>
<li>Sensor subsystem display will show the BP data.</li>
<li>Wait a few seconds for the BP data measurement. Please note that HR data update is paused.</li>
<li>Sensor subsystem display will show the BP measurements. </li>
</ul>
</li>
</ul>
</li>
</ul>
</dd></dl>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Dec 21 2017 10:19:10 for Example projects and demos by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
